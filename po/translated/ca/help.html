<html>
<head>
	<meta charset="utf-8" />
    <link href="../link/general.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<div id="background"></div>
	<h1>Ajuda del Constructor de ISO</h1>

	<div class="main">	
        <p>ISO Constructor helps building your custom Debian ISO, and was originally
created for maintaining SolydXK ISOs, but it might benefit those who want to
build their custom Debian ISO.</p>
        
        <p><img alt="" src="../link/mainwindow.png" /></p>

        <h2>Contingut</h2>
        <ol>
            <li><a href="#add">Add distribution</a></li>
            <li><a href="#remove">Remove distributions</a></li>
            <li><a href="#open">Open directory</a></li>
            <li><a href="#edit">Edit in terminal</a></li>
            <li><a href="#upgrade">Dist-upgrade distributions</a></li>
            <li><a href="#build">Build ISOs</a></li>
            <li><a href="#localize">Localize the ISOs</a></li>
            <li><a href="#debian">Use Debian live as base</a></li>
            <li><a href="#files">Important files</a></li>
        </ol>

        <a name="add"></a><h2>1. Afegeix distribució</h2>
        <p><strong>Unpack an ISO</strong></p>
        <p>Navega entre els ISOs descarregats, i selecciona u directori per a
desempaquetar-hi l'ISO.</p>
        <img alt="" src="../link/addisowindow.png" />
        <p>El botó per navegar pel directori de desempaquetat apareix i hi hi camí fins
a l'ISO.</p>
        <p><strong>Add an existing directory</strong></p>
        <p>Si heu desempaquetat un ISO abans, i eliminat la distribució de la llista de
ISO Constructor, podeu afegir el directori existent desmarcant la casella de
"Crear des d'ISO". </p>
        <img alt="" src="../link/addexistingdistrowindow.png" />
        <p>El botó Desa apareix només si hi ha el camí vers l'ISO i existeix el
directori de desempaquetat.</p>

        <a name="remove"></a><h2>2. Elimina distribucions</h2>
        <p>Això només eliminarà les distribucions seleccionades. El directori de la
distribució i el seu contingut NO s'eliminaran.</p>
        <img alt="" src="../link/removedistro.png" />

        <a name="open"></a><h2>3. Obre directori</h2>
        <p>Obre el directori de treball seleccionat al gestor de fitxers per omissió.</p>

        <a name="edit"></a><h2>4. Edita al terminal</h2>
        <p>Obre un terminal en mode root i comença a instal·lar (i eliminar) tots els
paquets que necessiteu. És més fàcil canviar la configuració al directori
arrel de la distribució, que no amb aquest terminal.</p>
        <img alt="" src="../link/terminal.png" />

        <a name="upgrade"></a><h2>5. Actualitza distribucions</h2>
        <p>Senzillament executa "apt-get dist-upgrade" però tenint en compte que cal
gestionar alguns serveis abans i després de l'actualització.</p>
        
        <a name="build"></a><h2>6. Construeix ISOs</h2>
        <p>Consisteix en aquests passos:</p>
        <ul>
            <li>Descarrega paquets fora de línia (/lib/live/mount/medium/offline).</li>
            <li>Instal·la tots els controladors de firmware.</li>
            <li>Elimina tots els paquets òrfens o inaccessibles (incloent-hi el kernel
antic).</li>
            <li>Configura el sistema.</li>
        </ul>
        <p>Cal una bona estona per al procés de construcció. Si necessiteu abandonar el
procés abans d'acabar, podeu obrir un terminal i executar:  </p>
        <div class="code">sudo killall mksquashfs</div>
        <p>Necessiteu repetir l'ordre si teniu més d'una distribució seleccionada a la
llista.</p>
        
        <a name="localize"></a><h2>7. Localitzar els ISOs</h2>
        <p>Això localitzarà els vostres ISOs, configurant la llengua i zona
horària. Consisteix en 6 etapes diferents:</p>
        <ol>
            <li><p>Configura el locale seleccionat.</p><img alt="" src="../link/configurelocales1.png" /></li>
            <li><p>Configura el locale per per omissió.</p><img alt="" src="../link/configurelocales2.png" /></li>
            <li><p>Configura la zona horària.</p><img alt="" src="../link/configuretimezone1.png" /> <img alt="" src="../link/configuretimezone2.png" /></li>
            <li>Canvia la configuració en autònom (/etc/live/config.conf).</li>
            <li>Actualitza (apt-get dist-upgrade)</li>
            <li>Quan sigui necessari, instal·la paquets per KDE, Firefox, Thunderbird,
LibreOffice i altres paquets de localització. Comproveu el fitxer
setlocale.sh quant als locales específics.</li>
        </ol>
        <p>No us oblideu de traduïr els fitxers boot/boot/grub/grub.cfg i
boot/isolinux/isolinux.cfg de la ISO.</p>

        <a name="debian"></a><h2>8. Usa Debian live com a base</h2>
        <p>Podeu usar fins i tot una Debian Live DVD com a base: <a
href="http://www.debian.org/CD/live"
target="_blank">http://www.debian.org/CD/live</a> Si useu Debian,
necessitareu el directori "isolinux" (i el seu contingut) per substituir el
directori "isolinux" al directori de desempaquetat Debian. Després d'això,
us caldrà configurar la distribució des de zero. És molta feina, però val la
pena per una CE (Community Edition).</p>

        <a name="files"></a><h2>9. Fitxers importants</h2>
        <ul>
            <li>~/.constructor/distributions.list: aquí es desen tots els directoris de
distribució.</li>
            <li>/usr/share/iso-constructor/grubgen.sh: genera boot/boot/grub/grub.cfg (amb
grub-template).</li>
            <li>/usr/share/iso-constructor/isolinuxgen.sh: genera boot/isolinux/isolinux.cfg
(amb isolinux-template).</li>
            <li>/usr/share/iso-constructor/cleanup.sh: Aquest script fa la neteja abans de
construir l'ISO.</li>
            <li>/usr/share/iso-constructor/setlocale.sh: configura el locale de la
lISO. Per omissió és: en_US</li>
            <li>/usr/share/iso-constructor/excludes: llista amb els directoris exclosos de
la construcció de la ISO.</li>
        </ul>
	</div>
</body>
</html>
