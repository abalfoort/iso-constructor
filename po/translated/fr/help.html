<html>
<head>
	<meta charset="utf-8" />
    <link href="../link/general.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<div id="background"></div>
	<h1>Aide ISO Constructor</h1>

	<div class="main">	
        <p>ISO Constructor helps building your custom Debian ISO, and was originally
created for maintaining SolydXK ISOs, but it might benefit those who want to
build their custom Debian ISO.</p>
        
        <p><img alt="" src="../link/mainwindow.png" /></p>

        <h2>Contenu</h2>
        <ol>
            <li><a href="#add">Add distribution</a></li>
            <li><a href="#remove">Remove distributions</a></li>
            <li><a href="#open">Open directory</a></li>
            <li><a href="#edit">Edit in terminal</a></li>
            <li><a href="#upgrade">Dist-upgrade distributions</a></li>
            <li><a href="#build">Build ISOs</a></li>
            <li><a href="#localize">Localize the ISOs</a></li>
            <li><a href="#debian">Use Debian live as base</a></li>
            <li><a href="#files">Important files</a></li>
        </ol>

        <a name="add"></a><h2>1. Ajouter une distribution</h2>
        <p><strong>Unpack an ISO</strong></p>
        <p>Rechercher l'ISO téléchargée et sélectionner un répertoire pour la
décompresser.</p>
        <img alt="" src="../link/addisowindow.png" />
        <p>Le bouton pour parcourir le répertoire décompressé devient disponible si le
chemin d'accès à l'ISO existe.</p>
        <p><strong>Add an existing directory</strong></p>
        <p>Si vous avez déjà décompressé une ISO et supprimé la distribution de la
liste de ISO Constructor, vous pouvez ajouter le répertoire existant en
décochant la case "Créer à partir d'une ISO"</p>
        <img alt="" src="../link/addexistingdistrowindow.png" />
        <p>Le bouton Enregistrer devient disponible si le chemin d'accès à l'ISO et le
répertoire décompressé existent.</p>

        <a name="remove"></a><h2>2. Supprimer des distributions</h2>
        <p>Cela supprimera seulement les distributions sélectionnées. Le répertoire de
la distribution et son contenu ne seront PAS supprimés.</p>
        <img alt="" src="../link/removedistro.png" />

        <a name="open"></a><h2>3. Ouvrir le répertoire</h2>
        <p>Ouvre le répertoire de travail sélectionné dans le gestionnaire de fichiers
par défaut.</p>

        <a name="edit"></a><h2>4. Éditer dans un terminal</h2>
        <p>Ouvrir un terminal chrooté et commencer à installer (et à supprimer) tous
les paquets que vous voulez. Il est plus facile de modifier la configuration
dans le répertoire racine de la distribution et non par ce terminal.</p>
        <img alt="" src="../link/terminal.png" />

        <a name="upgrade"></a><h2>5. Upgrade de distributions</h2>
        <p>Simply runs "apt-get dist-upgrade" but taking into account that some
services need to be handled before and after the upgrade.</p>
        
        <a name="build"></a><h2>6. Construire des ISOs</h2>
        <p>This consists of these steps:</p>
        <ul>
            <li>Télécharger des paquets hors ligne (/lib/live/mount/medium/offline).</li>
            <li>Install all firmware drivers.</li>
            <li>Remove orphaned and unavailable packages (including the old kernel).</li>
            <li>Configure the system.</li>
        </ul>
        <p>The building process can take a long time. If you need to quit the process
before it ends, you can open a terminal and run:</p>
        <div class="code">sudo killall mksquashfs</div>
        <p>Vous devez répéter cela si vous avez plus d'une distribution sélectionnée
dans la liste.</p>
        
        <a name="localize"></a><h2>7. Localiser les ISOs</h2>
        <p>Cela localisera votre ISO, mettra en place le paramétrage de la langue et du
fuseau horaire et se compose de 6 étapes différentes:</p>
        <ol>
            <li><p>Définir la locale souhaitée.</p><img alt="" src="../link/configurelocales1.png" /></li>
            <li><p>Définir la locale par défaut.</p><img alt="" src="../link/configurelocales2.png" /></li>
            <li><p>Définir le fuseau horaire.</p><img alt="" src="../link/configuretimezone1.png" /> <img alt="" src="../link/configuretimezone2.png" /></li>
            <li>Changer la configuration live (/etc/live/config.conf).</li>
            <li>Mettre à jour (apt-get dist-upgrade).</li>
            <li>Si besoin, installez des paquets pour KDE, Firefox, Thunderbird, LibreOffice
et autres paquets de localisation. Vérifiez le script setlocale.sh pour les
paquets spécifiques de localisation.</li>
        </ol>
        <p>Do not forget to translate boot/boot/grub/grub.cfg and
boot/isolinux/isolinux.cfg of the ISO.</p>

        <a name="debian"></a><h2>8. Utiliser Debian live comme base</h2>
        <p>Vous pouvez même utiliser un live Debian comme base: <a
href="http://www.debian.org/CD/live"
target="_blank">http://www.debian.org/CD/live</a> Si vous utilisez Debian,
vous aurez besoin du répertoire "isolinux" (et de son contenu) pour
remplacer le répertoire "isolinux" dans le répertoire Debian
décompressé. Ensuite, vous devrez configurer la distribution à partir de
zéro. C'est beaucoup de travail,  mais pour une CE (Édition Communautaire)
ça en vaut la peine.</p>

        <a name="files"></a><h2>9. Fichiers importants</h2>
        <ul>
            <li>~/.constructor/distributions.list: ici se trouvent tous les répertoires
sauvegardés de la distribution.</li>
            <li>/usr/share/iso-constructor/grubgen.sh: generates boot/boot/grub/grub.cfg
(with grub-template).</li>
            <li>/usr/share/iso-constructor/isolinuxgen.sh: generates
boot/isolinux/isolinux.cfg (with isolinux-template).</li>
            <li>/usr/share/iso-constructor/cleanup.sh: ce script nettoie avant de construire
l'ISO.</li>
            <li>/usr/share/iso-constructor/setlocale.sh: définit la locale de l'ISO. Par
défaut c'est: en_US</li>
            <li>/usr/share/iso-constructor/excludes: list with directories excluded from the
ISO build.</li>
        </ul>
	</div>
</body>
</html>
