.\" Automatically generated by Pandoc 2.17.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "ISO-CONSTRUCTOR" "1" "September 2020" "ISO Constructor" "ISO Constructor"
.hy
.SH NAME
.PP
iso-constructor - Tool to build and maintain custom Debian Live ISOs.
.SH SYNOPSIS
.PP
Usage: iso-constructor [OPTIONS] [DISTRIBUTION_PATH]
.PP
DISTRIBUTION_PATH contains the unpacked distribution with a boot and
root directory.
.SH DESCRIPTION
.PP
Without parameters the GUI is started.
.PP
Options for terminal use (no GUI):
.TP
-b
Build the distribution
.TP
-e
Edit the distribution
.TP
-h
Help screen
.TP
-t
Test the ISO in virt-manager
.TP
-u
Upgrade the distribution
.TP
-U [iso_path]
Unpack the ISO
.PP
Options for the GUI (all other parameters will be ignored):
.TP
-v
Prints debug information while running the GUI.
.SH GUI
.SS Add distribution
.PP
Here you can either unpack an ISO to a new work directory or select an
exsiting previously removed work directory.
.SS Remove distribution
.PP
When removing a distribution the work directory will NOT be removed.
.SS Edit distribution
.PP
Creates a chrooted environment where you can change the system.
.SS Upgrade distribution
.PP
Simply runs \[lq]apt-get dist-upgrade\[rq] but taking into account that
some services need to be handled before and after the upgrade.
.SS Build ISOs
.PP
Builds the ISO and creates a sha256 file.
.PP
If you installed packages that are not in the repository but you want to
keep installed you can edit the keep-packages file:
.PP
cp -v /usr/share/iso_constructor/keep-packages \[ti]/.iso-constructor/
.PP
Note: to keep all packages you can simply write an asterisk (*) in the
keep-packages file.
.SS Test ISOs in virt-manager
.TP
If you have these (recommended) packages installed, the Virtual Manager test button will be available:
virt-manager, qemu-kvm, bridge-utils, spice-vdagent
.PP
Note: if you test ISO builds newer than your host system the ISO might
not boot or there are errors.
Upgrade qemu to the latest version (backports).
.SH REPOSITORY
.PP
You can create a pool directory structure as in the live Debian ISOs.
Any .deb are updated automatically during build.
Release information in the dists directory is generated during build.
.PP
Note: ISO Constructor is not able to update the .udeb packages.
These need to be updated manually.
.SH GRUB AND ISOLINUX
.PP
To customize/translate the Grub and Isolinux boot menus you can create
and edit the templates in \[ti]/.iso-constructor/:
.PP
cp -v /usr/share/iso_constructor/grub-template \[ti]/.iso-constructor/
.PP
cp -v /usr/share/iso_constructor/isolinux-template
\[ti]/.iso-constructor/
.SH FILES
.TP
\[ti]/.iso-constructor/iso-constructor.conf
Configuration file
.TP
\[ti]/.iso-constructor/iso-constructor.log
Log file.
.TP
\[ti]/.iso-constructor/keep-packages (optional)
List of packages not in repository.
Use /usr/share/iso_constructor/keep-packages as base.
.TP
\[ti]/.iso-constructor/grub-template (optional)
Custom template for grub.cfg.
Use /usr/share/iso_constructor/grub-template as base.
.TP
\[ti]/.iso-constructor/isolinux-template (optional)
Custom template for isolinux.cfg.
Use /usr/share/iso_constructor/isolinux-template as base.
.SH AUTHOR
.PP
Written by Arjen Balfoort
.SH BUGS
.PP
https://github.com/abalfoort/iso-constructor/issues
.SH TRANSLATIONS
.PP
https://www.transifex.com/abalfoort/iso-constructor
